# 基于AKShare的量化交易系统

这是一个基于AKShare的完整量化交易系统，支持回测和实盘交易功能。系统包含数据获取、策略实现、风险控制、资金管理等完整模块。

## 功能特点

### 1. 数据获取模块
- 支持历史数据获取
- 实时行情数据获取
- 多股票同时监控
- 异步数据更新

### 2. 策略模块
- 均线交叉策略
- MACD策略
- 可扩展的策略框架

### 3. 风险控制模块
- 仓位控制
- 止损管理
- 回撤控制
- 风险指标计算（波动率、夏普比率、VaR等）

### 4. 资金管理模块
- 动态仓位计算
- 交易记录追踪
- 绩效分析
- 资金分配优化

### 5. 交易接口模块
- 订单管理
- 持仓管理
- 交易日志
- 账户信息追踪

## 系统要求

- Python 3.7+
- 依赖包要求见 requirements.txt

## 安装步骤

1. 克隆项目到本地：
```bash
git clone [项目地址]
cd [项目目录]
```

2. 安装依赖包：
```bash
pip install -r requirements.txt
```

## 使用方法

### 1. 回测模式

运行回测模式可以测试策略在历史数据上的表现：

```bash
python main.py
# 选择模式 1 进行回测
```

回测模式将：
- 获取历史数据
- 运行策略回测
- 计算策略表现
- 生成回测报告和图表

### 2. 实盘交易模式

运行实盘交易模式可以进行实时交易：

```bash
python main.py
# 选择模式 2 进行实盘交易
```

实盘交易模式将：
- 实时获取市场数据
- 执行交易策略
- 进行风险控制
- 管理资金分配
- 记录交易日志

## 模块说明

### data_fetcher.py
- 历史数据获取
- 指数数据获取
- 股票列表获取

### realtime_data.py
- 实时行情数据获取
- 多线程异步处理
- 数据队列管理

### strategy.py
- 策略实现
- 信号生成
- 回测功能

### risk_manager.py
- 风险控制
- 止损管理
- 风险指标计算

### money_manager.py
- 资金管理
- 仓位计算
- 交易记录
- 绩效统计

### trade_interface.py
- 交易执行
- 订单管理
- 持仓管理
- 账户管理

## 配置说明

### 风险控制参数
- `max_position_size`: 单个股票最大仓位比例（默认0.1）
- `max_drawdown`: 最大回撤限制（默认0.2）
- `stop_loss_pct`: 止损比例（默认0.05）

### 资金管理参数
- `initial_capital`: 初始资金（默认1000000.0）
- `risk_per_trade`: 每笔交易风险比例（默认0.02）

### 实时数据参数
- `update_interval`: 数据更新间隔（默认3秒）

## 注意事项

1. 实盘交易前请确保：
   - 已完成策略回测
   - 了解风险控制参数
   - 设置合适的资金管理参数
   - 确认交易接口配置正确

2. 风险提示：
   - 量化交易存在风险
   - 建议先用小资金测试
   - 定期检查系统运行状态
   - 及时调整风险控制参数

3. 系统维护：
   - 定期更新依赖包
   - 检查日志文件
   - 备份交易数据
   - 监控系统性能

## 开发计划

- [ ] 添加更多技术指标
- [ ] 优化策略框架
- [ ] 增加机器学习模型
- [ ] 完善风险控制
- [ ] 添加Web界面

## 贡献指南

欢迎提交Issue和Pull Request来帮助改进项目。

## 许可证

MIT License 